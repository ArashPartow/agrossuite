<!-- HTML header for doxygen 1.8.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>The deal.II Library: MultithreadInfo Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
<link rel="SHORTCUT ICON" href="http://www.dealii.org/deal.ico"></link>
<meta name="author" content="The deal.II Authors <authors@dealii.org>"></meta>
<meta name="copyright" content="Copyright (C) 1998 - 2014 by the deal.II authors"></meta>
<meta name="deal.II-version" content="8.1.0"></meta>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo200.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">
   &#160;<span id="projectnumber">Reference documentation for deal.II version 8.1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classMultithreadInfo-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MultithreadInfo Class Reference<div class="ingroups"><a class="el" href="group__threads.html">Parallel computing with multiple processors accessing shared memory</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="multithread__info_8h_source.html">multithread_info.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad94f05d739acaf3c8fc93bee8cd775d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultithreadInfo.html#ad94f05d739acaf3c8fc93bee8cd775d3">MultithreadInfo</a> ()</td></tr>
<tr class="separator:ad94f05d739acaf3c8fc93bee8cd775d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeec55e0c45cfaab6970348ece080da9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afeec55e0c45cfaab6970348ece080da9"></a>
unsigned <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><b>n_threads</b> () const </td></tr>
<tr class="separator:afeec55e0c45cfaab6970348ece080da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae253b8ff679c4119f9c5bff4439fe606"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultithreadInfo.html#ae253b8ff679c4119f9c5bff4439fe606">set_thread_limit</a> (const unsigned <a class="el" href="classint.html">int</a> max_threads=<a class="el" href="namespacenumbers.html#a8ae36952c7e0cc778b47b5371b3aeff1">numbers::invalid_unsigned_int</a>)</td></tr>
<tr class="separator:ae253b8ff679c4119f9c5bff4439fe606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9722bf91cc40fc48038899fe36ae7f98"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultithreadInfo.html#a9722bf91cc40fc48038899fe36ae7f98">is_running_single_threaded</a> ()</td></tr>
<tr class="separator:a9722bf91cc40fc48038899fe36ae7f98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d8129bfae6844c057e2583159c078ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultithreadInfo.html#a8d8129bfae6844c057e2583159c078ae">DeclException0</a> (ExcProcNotPresent)</td></tr>
<tr class="separator:a8d8129bfae6844c057e2583159c078ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a329bf14ddd3afa43504f60e7ae07a397"><td class="memItemLeft" align="right" valign="top">static std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultithreadInfo.html#a329bf14ddd3afa43504f60e7ae07a397">memory_consumption</a> ()</td></tr>
<tr class="separator:a329bf14ddd3afa43504f60e7ae07a397"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ae9e8a8400c3c2ec105c47e5a2ef88d7f"><td class="memItemLeft" align="right" valign="top">const unsigned <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultithreadInfo.html#ae9e8a8400c3c2ec105c47e5a2ef88d7f">n_cpus</a></td></tr>
<tr class="separator:ae9e8a8400c3c2ec105c47e5a2ef88d7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5281cc956a77ea5360a18b13faf392"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="classint.html">int</a> n_default_threads&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultithreadInfo.html#add5281cc956a77ea5360a18b13faf392">DEAL_II_DEPRECATED</a></td></tr>
<tr class="separator:add5281cc956a77ea5360a18b13faf392"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a4e16ee8bcf91e472756757a206fa9702"><td class="memItemLeft" align="right" valign="top">static unsigned <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultithreadInfo.html#a4e16ee8bcf91e472756757a206fa9702">get_n_cpus</a> ()</td></tr>
<tr class="separator:a4e16ee8bcf91e472756757a206fa9702"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0bc7fdda41f225ec79e47fb5ff843719"><td class="memItemLeft" align="right" valign="top">unsigned <a class="el" href="classint.html">int</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMultithreadInfo.html#a0bc7fdda41f225ec79e47fb5ff843719">n_max_threads</a></td></tr>
<tr class="separator:a0bc7fdda41f225ec79e47fb5ff843719"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides information about the system which may be of use in multithreaded programs. At the moment this is just the number of cpus. If deal.II is compiled with multithreading support, some functions will use multiple threads for their action. Currently the library supports both thread-based and task-based parallelism. <a class="el" href="group__threads.html">Parallel computing with multiple processors accessing shared memory</a> describes the different uses of each. Thread-based parallel methods will use the member variable n_default_threads of this class as a guide to the number of threads to start. This variable n_default_threads is set to the number of CPUs by default, but can be adjusted by the user to fit the requirements. The default number of threads used for task-based parallel methods is selected automatically by the Threading Building Blocks library. See <a class="el" href="group__threads.html">Parallel computing with multiple processors accessing shared memory</a> for more information on this. To set n_default_threads add the following at the start of your <a class="el" href="group__ParameterGui.html#ga0ddf1224851353fc92bfbff6f499fa97">main()</a>: <code> multithread_info.n_default_threads=1; </code></p>
<dl class="section author"><dt>Author</dt><dd>Thomas Richter, Wolfgang Bangerth, 2000 </dd></dl>

<p>Definition at line <a class="el" href="multithread__info_8h_source.html#l00050">50</a> of file <a class="el" href="multithread__info_8h_source.html">multithread_info.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad94f05d739acaf3c8fc93bee8cd775d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MultithreadInfo::MultithreadInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The constructor determines the number of CPUs in the system. At the moment detection of CPUs is only implemented on Linux computers with the /proc filesystem and on Sun machines. The number of CPUs present is set to one if detection failed or if detection is not supported. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a329bf14ddd3afa43504f60e7ae07a397"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::size_t MultithreadInfo::memory_consumption </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Determine an estimate for the memory consumption (in bytes) of this object. Since sometimes the size of objects can not be determined exactly (for example: what is the memory consumption of an STL <code>std::map</code> type with a certain number of elements?), this is only an estimate. however often quite close to the true value. </p>

</div>
</div>
<a class="anchor" id="ae253b8ff679c4119f9c5bff4439fe606"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MultithreadInfo::set_thread_limit </td>
          <td>(</td>
          <td class="paramtype">const unsigned <a class="el" href="classint.html">int</a>&#160;</td>
          <td class="paramname"><em>max_threads</em> = <code><a class="el" href="namespacenumbers.html#a8ae36952c7e0cc778b47b5371b3aeff1">numbers::invalid_unsigned_int</a></code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the maximum number of threads to be used to the minimum of the environment variable DEAL_II_NUM_THREADS and the given parameter (if not the default value). This affects the initialization of the TBB. If neither is given, the default from TBB is used (based on the number of cores in the system).</p>
<p>This routine is called automatically by MPI_InitFinalize. Due to limitations in the way TBB can be controlled, only the first call to this method will have any effect. Use the parameter of the MPI_InitFinalize if you have an MPI based code. </p>

</div>
</div>
<a class="anchor" id="a9722bf91cc40fc48038899fe36ae7f98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> MultithreadInfo::is_running_single_threaded </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns if the TBB is running using a single thread either because of thread affinity or because it is set via a call to set_thread_limit. This is used in the <a class="el" href="namespacePETScWrappers.html">PETScWrappers</a> to avoid using the interface that is not thread-safe. </p>

</div>
</div>
<a class="anchor" id="a8d8129bfae6844c057e2583159c078ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MultithreadInfo::DeclException0 </td>
          <td>(</td>
          <td class="paramtype">ExcProcNotPresent&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Exception </p>

</div>
</div>
<a class="anchor" id="a4e16ee8bcf91e472756757a206fa9702"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static unsigned <a class="el" href="classint.html">int</a> MultithreadInfo::get_n_cpus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Private function to determine the number of CPUs. Implementation for Linux, OSF, SGI, and Sun machines; if no detection of the number of CPUs is supported, or if detection fails, this function returns one. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae9e8a8400c3c2ec105c47e5a2ef88d7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="classint.html">int</a> MultithreadInfo::n_cpus</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of CPUs in the system. It is one if detection is not implemented or failed.</p>
<p>If it is one, although you are on a multi-processor machine, please refer to the documentation in <code>multithread_info.cc</code> near to the <code>error</code> directive. </p>

<p>Definition at line <a class="el" href="multithread__info_8h_source.html#l00080">80</a> of file <a class="el" href="multithread__info_8h_source.html">multithread_info.h</a>.</p>

</div>
</div>
<a class="anchor" id="add5281cc956a77ea5360a18b13faf392"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classint.html">int</a> n_default_threads MultithreadInfo::DEAL_II_DEPRECATED</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The number of threads to use as a default value for all functions that support multithreading. At start time this is <code>n_cpus</code> or one, if detection of the number of CPUs is not possible.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000110">Deprecated:</a></b></dt><dd>: use <a class="el" href="classMultithreadInfo.html#ae253b8ff679c4119f9c5bff4439fe606">set_thread_limit()</a> instead. </dd></dl>

<p>Definition at line <a class="el" href="multithread__info_8h_source.html#l00092">92</a> of file <a class="el" href="multithread__info_8h_source.html">multithread_info.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0bc7fdda41f225ec79e47fb5ff843719"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classint.html">int</a> MultithreadInfo::n_max_threads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>variable representing the maximum number of threads </p>

<p>Definition at line <a class="el" href="multithread__info_8h_source.html#l00163">163</a> of file <a class="el" href="multithread__info_8h_source.html">multithread_info.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/deal.II/base/<a class="el" href="multithread__info_8h_source.html">multithread_info.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.6-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jan 27 2014 15:27:20 for The deal.II Library by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
